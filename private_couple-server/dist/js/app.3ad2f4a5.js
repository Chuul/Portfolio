(function(){"use strict";var t={477:function(t,e,n){n.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[t._t("header")],2),n("div",{staticClass:"modal-body"},[t._t("body")],2),n("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[n("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("close")}}},[t._v(" 닫기 ")])]}))],2)])])])])},o=[],a={},s=a,i=n(736),c=(0,i.Z)(s,r,o,!1,null,"2801da1b",null),u=c.exports},168:function(t,e,n){var r={};n.r(r),n.d(r,{checkLogin:function(){return et},checkLogin_Name:function(){return nt},fetchName:function(){return rt},getLastCourseList:function(){return at},getLastItemList:function(){return ot},isLogin:function(){return tt}});var o={};n.r(o),n.d(o,{LOGOUT_USER:function(){return it},SET_ERROR:function(){return ut},SET_LAST_LIST:function(){return ct},SET_USER_DATA:function(){return st}});var a={};n.r(a),n.d(a,{ADD_LAST_ITEM:function(){return kt},FETCH_LAST_LIST:function(){return yt},LOGIN:function(){return vt}});var s=n(144),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("HeaderView"),n("router-view"),n("PageInfo")],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:t.checkLogin},[n("section",{staticClass:"header_cont"},["start"!==this.$route.name?n("i",{staticClass:"start_Btn fas fa-play-circle",class:t.checkStartList,on:{click:t.goStartView}}):t._e(),n("ToolBar"),n("span",{staticClass:"logout_cont"},[t.checkLogin_Name?[n("span",{staticClass:"username_cont"},[t._v(t._s(t.fetchName)+"님")])]:t._e(),n("i",{staticClass:"logout_btn fas fa-sign-out-alt",on:{click:t.openModal}})],2)],1),t.showModal?n("Modal",{on:{close:function(e){return t.closeModal()}}},[n("h2",{attrs:{slot:"header"},slot:"header"},[t._v("로그아웃 하시겠습니까?")]),n("button",{attrs:{slot:"body"},on:{click:function(e){return e.preventDefault(),t.kakaoLogout()}},slot:"body"},[t._v("확인")])]):t._e()],1)},l=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"toolbar_cont"},[n("router-link",{attrs:{to:"/creating"}},[t._v("코스생성")]),n("router-link",{attrs:{to:"/list"}},[t._v("코스목록")]),n("router-link",{attrs:{to:"/last"}},[t._v("이전코스")])],1)},d=[],f={},_=f,h=n(736),T=(0,h.Z)(_,m,d,!1,null,"6fbd467e",null),p=T.exports,g=n(477),E={components:{ToolBar:p,Modal:g.Z},data(){return{showModal:!1}},computed:{checkLogin(){return this.$store.getters.checkLogin},checkStartList(){return this.$store.getters.checkStartList},fetchName(){return this.$store.getters.fetchName},checkLogin_Name(){return this.$store.getters.checkLogin_Name}},methods:{goStartView(){this.$router.push("/start")},kakaoLogout(){window.Kakao.Auth.getAccessToken()?(window.Kakao.Auth.logout(),this.$store.commit("LOGOUT_USER"),this.$router.push("/login"),this.closeModal()):console.log("Not logged in.")},openModal(){this.showModal=!0},closeModal(){this.showModal=!1}}},L=E,S=(0,h.Z)(L,u,l,!1,null,"4f3a019d",null),v=S.exports,y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"page_info_cont"},[n("strong",{staticClass:"app_title"},[t._v("Private Course")]),n("dl",{staticClass:"info_list"},[n("dt",[t._v("제작")]),n("dd",[t._v("이희철")]),n("dt",[t._v("이메일")]),n("dd",[t._v("bethejs30@gmail.com")]),n("a",{staticClass:"gitRepo",attrs:{href:"https://github.com/Chuul/Private-Course",target:"_blank"}},[t._v("Visit Github Repository")]),n("small",{staticClass:"txt_copy"},[t._v("CopyRight ©Chuul. All rights Reserved")])])])}],C={},I=C,A=(0,h.Z)(I,y,k,!1,null,"25042dd8",null),b=A.exports,w={components:{HeaderView:v,PageInfo:b}},R=w,M=(0,h.Z)(R,i,c,!1,null,null,null),O=M.exports,$=n(345),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login_cont"},[n("h1",[t._v("Make Our Own Course")]),n("kakaoLogin")],1)},P=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"kakao_login_cont"},[n("a",{attrs:{id:"custom_login_btn"}},[n("img",{attrs:{src:"//k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg",width:"160",alt:"카카오 로그인 버튼"},on:{click:function(e){return t.kakaoLogin()}}})])])},U=[],N={data(){return{data:[]}},methods:{kakaoLogin(){window.Kakao.Auth.loginForm({scope:"profile_nickname, account_email",success:this.getProfile})},getProfile(){window.Kakao.API.request({url:"/v2/user/me",success:async t=>{const e={username:t.kakao_account.profile.nickname,email:t.kakao_account.email};await this.$store.dispatch("LOGIN",e),this.$router.push("/creating")}})}}},H=N,Z=(0,h.Z)(H,D,U,!1,null,"a50f74a2",null),F=Z.exports,j={components:{kakaoLogin:F}},B=j,K=(0,h.Z)(B,x,P,!1,null,"0c2cb770",null),G=K.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"notfound_cont"},[n("h1",[t._v("404 Error")]),n("p",[t._v("페이지를 찾을 수 없습니다.")])])}],X={},z=X,J=(0,h.Z)(z,V,q,!1,null,"27e57c70",null),Q=J.exports,W=n(629),Y=n(702);const tt=t=>""===t.username,et=t=>""===t.username?"login_cont":null,nt=t=>""!==t.username,rt=t=>t.username,ot=t=>t.lastItemList,at=t=>t.lastCourseList,st=(t,e)=>{t.username=e.username,t.email=e.email},it=t=>{t.username="",t.email="",t.startList=[]},ct=(t,e)=>{t.lastItemList=e[0].item,t.lastCourseList=e[0].course},ut=(t,e)=>{t.errorMessage=e};var lt=n(669),mt=n.n(lt);function dt(t){return mt().create({baseURL:`http://localhost:8800/${t}`})}const ft=dt("login"),_t=dt("creating"),ht=dt("list"),Tt=dt("start"),pt=dt("last");function gt(t){return ft.post("/",t)}function Et(t){return pt.post("/",t)}function Lt(t){return pt.patch("/item",t)}function St(t){return pt.patch("/course",t)}const vt=async({commit:t},e)=>{try{const{data:n}=await gt(e);return t("SET_USER_DATA",n),n}catch(n){console.log(n)}},yt=async t=>{try{const e={createdBy:t.state.username},{data:n}=await Et(e);t.commit("SET_LAST_LIST",n)}catch(e){console.log(e)}},kt=async(t,e)=>{delete e.completed,delete e._id;const n={createdBy:t.state.username,item:e};await Lt(n),t.dispatch("FETCH_START_LIST")};function Ct(t){return _t.post("/",t)}function It(t){return _t.post("/filter",t)}function At(t){return _t.post("/insert",t)}function bt(t){return _t.patch(`/url/${t.id}`,{data:{urlText:t.textArea}})}function wt(t){return _t.patch(`/pos/${t.id}`,{data:{posText:t.textArea}})}function Rt(t){return _t["delete"](`/${t}`)}function Mt(t){return ht.post("/",t)}function Ot(t){return ht.post("/insert",t)}function $t(t){return ht["delete"](`/${t}`)}const xt={itemList:[],checkedList:[]},Pt={getItemList:t=>t.itemList,getCheckedList:t=>t.checkedList},Dt={SET_ITEM_LIST:(t,e)=>{t.itemList=e},SET_ITEM:(t,e)=>{t.itemList.push(e)},SET_TOGGLE_ITEM:(t,e)=>{let n=t.itemList;function r(e){let n=t.checkedList;for(let t=0;t<n.length;t++)if(n[t].name===e)return void n.splice(t,1)}for(let o=0;o<n.length;o++)e.name===n[o].name&&(!0===n[o].checked?(n[o].checked=!1,r(n[o].name)):(n[o].checked=!0,t.checkedList.push(e)))},SET_ITEM_URL:(t,e)=>{for(let n=0;n<t.itemList.length;n++)if(t.itemList[n]._id===e.id)return void(t.itemList[n].url=e.textArea)},SET_ITEM_POS:(t,e)=>{for(let n=0;n<t.itemList.length;n++)if(t.itemList[n]._id===e.id)return void(t.itemList[n].pos=e.textArea)},SPLICE_ITEM:(t,e)=>{for(let n=0;n<t.itemList.length;n++)if(t.itemList[n]._id===e)return void t.itemList.splice(n,1)},SET_ITEM_FALSE:(t,e)=>{for(let n=0;n<e.length;n++)for(let r=0;r<t.itemList.length;r++)t.itemList[r].name===e[n].name&&(t.itemList[r].checked=!1);t.checkedList=[]}},Ut={FETCH_ITEM_LIST:async t=>{try{const e={username:t.rootState.username},{data:n}=await Ct(e);return t.commit("SET_ITEM_LIST",n),n}catch(e){return t.commit("SET_ERROR",e.response.data.message),e.response.data.message}},FILTER_ITEM:async(t,e)=>{try{if("전체"===e)return t.dispatch("FETCH_ITEM_LIST");const n={username:t.rootState.username,category:e},{data:r}=await It(n);return t.commit("SET_ITEM_LIST",r),r}catch(n){return t.commit("SET_ERROR",n.response.data.message),n.response.data.message}},ADD_ITEM:async(t,e)=>{const n={createdBy:t.rootState.username,category:e.category,name:e.name,checked:!1,url:"",pos:"",pos_latlng:""};try{const e=await At(n);return t.commit("SET_ITEM",n),e}catch(r){return console.log(r.response.data.message),r.response.data.message}},PATCH_ITEM_URL:async({commit:t},e)=>{try{const n=bt(e);return t("SET_ITEM_URL",e),n}catch(n){return console.log(n),n}},PATCH_ITEM_POS:async({commit:t},e)=>{try{const n=wt(e);return t("SET_ITEM_POS",e),n}catch(n){return console.log(n),n}},DELETE_ITEM:async({commit:t},e)=>{try{const n=Rt(e);return t("SPLICE_ITEM",e),n}catch(n){return console.log(n),n}},ADD_COURSE:async(t,e)=>{const n={createdBy:t.rootState.username,course:e};try{const r=await Ot(n);return t.dispatch("FETCH_ITEM_LIST"),t.commit("SET_ITEM_FALSE",e),r}catch(r){console.log(r)}}};var Nt={state:xt,getters:Pt,mutations:Dt,actions:Ut};function Ht(t){return Tt.post("/",t)}function Zt(t){return Tt.post("/insert",t)}function Ft(t){return Tt.patch(`/comment/${t.id}`,{data:{comment:t.comment}})}function jt(t){return Tt.patch(`/false/${t}`,{data:{checked:!1}})}function Bt(t){return Tt["delete"](`/item/${t}`)}function Kt(t){return Tt.patch(`/name/${t.id}`,{data:{urlText:t.textArea}})}function Gt(t){return Tt.patch(`/url/${t.id}`,{data:{urlText:t.textArea}})}function Vt(t){return Tt.patch(`/pos/${t.id}`,{data:{posText:t.textArea}})}function qt(t){return Tt["delete"](`/exit/${t}`)}const Xt={courseList:[]},zt={getCourseList:t=>t.courseList},Jt={SET_COURSE_LIST:(t,e)=>{t.courseList=e},SPLICE_LIST:(t,e)=>{for(let n=0;n<t.courseList.length;n++)if(t.courseList[n].name===e)return void t.courseList.splice(n,1)}},Qt={FETCH_COURSE_LIST:async t=>{const e={email:t.rootState.email,username:t.rootState.username};try{const{data:n}=await Mt(e);t.commit("SET_COURSE_LIST",n)}catch(n){console.log(n)}},DELETE_COURSE:async({commit:t},e)=>{try{const n=await $t(e);return t("SPLICE_LIST",e),n}catch(n){console.log(n)}},START_COURSE:async(t,e)=>{const n={createdBy:t.rootState.username,course:e.course};t.rootState.module_start.startList=e.course,Zt(n)}};var Wt={state:Xt,getters:zt,mutations:Jt,actions:Qt};const Yt={startList:[]},te={getStartList:t=>t.startList,checkStartList:t=>0===t.startList.length?"before_start":"proceeding_start"},ee={EDIT_START_CHECKED:(t,e)=>{let n=t.startList;for(let r=0;r<n.length;r++)if(n[r]._id===e)return void(n[r].checked=!0)},EDIT_START_NAME:(t,e)=>{for(let n=0;n<t.startList.length;n++)if(t.startList[n]._id===e.id)return void(t.startList[n].name=e.textArea)},SET_START_URL:(t,e)=>{for(let n=0;n<t.startList.length;n++)if(t.startList[n]._id===e.id)return void(t.startList[n].url=e.textArea)},SET_START_POS:(t,e)=>{for(let n=0;n<t.startList.length;n++)if(t.startList[n]._id===e.id)return void(t.startList[n].pos=e.textArea)},SPLICE_START:(t,e)=>{for(let n=0;n<t.startList.length;n++)if(t.startList[n]._id===e)return void t.startList.splice(n,1)},EXIT_START_COURSE:t=>{t.startList=[]}},ne={FETCH_START_LIST:async t=>{const e={createdBy:t.rootState.username};try{const{data:n}=await Ht(e);t.commit("SET_START_COURSE",n[0].course)}catch(n){console.log(n)}},FALSE_ITEM:async({dispatch:t},e)=>{await jt(e),t("FETCH_START_LIST")},PATCH_ITEM_COMMENT:async(t,e)=>{try{const n={id:e._id,comment:e.comment};await Ft(n),t.commit("EDIT_START_CHECKED",e._id),t.dispatch("ADD_LAST_ITEM",e)}catch(n){console.log(n)}},EDIT_START_ITEM:async({commit:t},e)=>{try{await Kt(e),t("EDIT_START_NAME",e)}catch(n){console.log(n)}},PATCH_START_POS:async({commit:t},e)=>{try{await Vt(e),t("SET_START_POS",e)}catch(n){console.log(n)}},PATCH_START_URL:async({commit:t},e)=>{try{await Gt(e),t("SET_START_URL",e)}catch(n){console.log(n)}},DELETE_START_ITEM:async({commit:t},e)=>{try{await Bt(e),t("SPLICE_START",e)}catch(n){console.log(n)}},STORE_START:async(t,e)=>{try{let n=t.state.startList,r=[];for(let t=0;t<n.length;t++)!0===n[t].checked&&r.push(n[t]);const o={createdBy:t.rootState.username,course:{list:r,comment:e}},a=t.rootState.username;await St(o),t.commit("EXIT_START_COURSE");const s=await qt(a);return s}catch(n){console.log(n)}},EXIT_START:async t=>{const e=t.rootState.username;try{return await qt(e),void t.commit("EXIT_START_COURSE")}catch(n){console.log(n)}}};var re={state:Yt,getters:te,mutations:ee,actions:ne};s.Z.use(W.ZP);var oe=new W.ZP.Store({modules:{module_creating:Nt,module_list:Wt,module_start:re},state:{email:"",username:"",lastItemList:[],lastCourseList:[],errorMessage:""},getters:r,mutations:o,actions:a,plugins:[(0,Y.Z)({paths:["username","email","startList"]})]});s.Z.use($.Z);const ae=new $.Z({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/login",component:G,name:"login"},{path:"/creating",component:()=>n.e(540).then(n.bind(n,540)),name:"creating",meta:{auth:!0}},{path:"/list",component:()=>n.e(937).then(n.bind(n,937)),name:"list",meta:{auth:!0}},{path:"/last",component:()=>n.e(106).then(n.bind(n,106)),name:"last",meta:{auth:!0}},{path:"/start",component:()=>n.e(964).then(n.bind(n,964)),name:"start",meta:{auth:!0}},{path:"*",component:Q}]});ae.beforeEach(((t,e,n)=>{if(t.meta.auth&&oe.getters.isLogin)return console.log("로그인이 필요합니다."),void n("/creating");n()}));var se=ae;s.Z.config.productionTip=!1,new s.Z({render:t=>t(O),router:se,store:oe}).$mount("#app"),window.Kakao.init("69d01f6ae97ecb427d72e87a37952804")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],a=t[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(i=!1,a<s&&(s=a));if(i){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{106:"c5fd35f7",540:"6cfec4a5",937:"450a7df7",964:"5a8a326c"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{106:"0eab154d",540:"2355bbd2",937:"0437dd20",964:"763949c2"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="private_couple:";n.l=function(r,o,a,s){if(t[r])t[r].push(o);else{var i,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var m=u[l];if(m.getAttribute("src")==r||m.getAttribute("data-webpack")==e+a){i=m;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[o];var d=function(e,n){i.onerror=i.onload=null,clearTimeout(f);var o=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t=function(t,e,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,o.parentNode.removeChild(o),r(c)}};return o.onerror=o.onload=a,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===t||a===e))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],a=o.getAttribute("data-href");if(a===t||a===e)return o}},r=function(r){return new Promise((function(o,a){var s=n.miniCssF(r),i=n.p+s;if(e(s,i))return o();t(r,i,o,a)}))},o={143:0};n.f.miniCss=function(t,e){var n={106:1,540:1,937:1,964:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=a);var s=n.p+n.u(e),i=new Error,c=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};n.l(s,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],i=r[1],c=r[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var l=c(n)}for(e&&e(r);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self["webpackChunkprivate_couple"]=self["webpackChunkprivate_couple"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(168)}));r=n.O(r)})();
//# sourceMappingURL=app.3ad2f4a5.js.map